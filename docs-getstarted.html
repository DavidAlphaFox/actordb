<!DOCTYPE html>
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head prefix="og: http://ogp.me/ns#">
        <!--<meta charset="utf-8">-->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>ActorDB | Documentation</title>        
        <meta name="description" content="ActorDB is strongly consistent, distributed and horizontally scalable. Unlike traditional monolithic databases, ActorDB is made out of any number of independent and concurrent SQL databases called actors.">
        <meta name="viewport" content="width=device-width">
        <meta property="og:title" content="ActorDB | Documentation" />
        <meta property="og:description" content="ActorDB is strongly consistent, distributed and horizontally scalable. Unlike traditional monolithic databases, ActorDB is made out of any number of independent and concurrent SQL databases called actors." />
        <meta property="og:site_name" content="ActorDB" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://www.actordb.com/" />
        <meta property="og:image" content="http://www.actordb.com/imgs/actordb_fb_logo.png" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/actordb-website.css">
        <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        <script src="js/vendor/jquery-1.10.1.min.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
        <style>
            .block {
                display:block !Important;
            }
        </style>
        <script>
            $(document).ready(function(){
                $("#mobile_menu").click(function(evt){
                    $(this).siblings(".navigation").toggleClass("block");
                });
            });
        </script>
        <!--[if gte IE 9]>
          <style type="text/css">
            .gradient {filter: none;}
          </style>
        <![endif]-->
    </head>    
    <body id="view320logo" >
        <!--[if lt IE 9]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
        <div class="header">
            <div class="pagewrapper clearfix">
                <a href="" class="global-header_logo"></a>
                <a href="" class="global320-header_logo_text global-header_logo_text"></a>
                <ul class="navigation">
                    <li ><a href="index.html">Home</a></li>
                    <li  class="sel"><a href="docs-about.html">Documentation</a></li>
                    <li><a target="_blank" href="https://www.github.com/biokoda/actordb">Source</a></li>
                    <li class=" "><a href="downloads.html">Downloads</a></li>
                    <!-- <li class="  right"><a target="_blank" href="downloads.html">Downloads</a></li> -->
                </ul>
                <span id="mobile_menu" class="menu"></span>
            </div>
        </div>

        <script>
$(document).ready(function(){
    $(".collapsed > .title").click(function(evt){        
        $(this).parent().toggleClass("expanded");
        return false;
    });
});
</script>
<div class="pagecontainer">
    <div class="pagewrapper clearfix">
        <div class="leftmenu">

            <div class="l1">
                <a href="docs-about.html" class="title">
                    <span class="text">1. ABOUT</span>
                </a>
            </div>
            <div class="l1 collapsed expanded">
                <a href="docs-getstarted.html" class="title">
                    <span class="bullet"></span>
                    <span class="text">2. GET STARTED</span>
                </a>
                <div class="l2">
                    <a href="docs-getstarted.html#download_run" class="title">
                        <span class="text">2.1 Download and run ActorDB</span>
                    </a>
                    <a href="docs-getstarted.html#run" class="title">
                        <span class="text">2.2 Run ActorDB</span>
                    </a>
                    <a href="docs-getstarted.html#insertandquery" class="title">
                        <span class="text">2.3 Simple insert and query data</span>
                    </a>

                    <div class="l3 collapsed expanded">
                        <a href="docs-getstarted.html#crud" class="title">
                            <span class="bullet"></span>
                            <span class="text">2.4 CRUD in ActorDB</span>
                        </a>
                        <a href="docs-getstarted.html#create" class="text last">2.4.1 Create</a>
                        <a href="docs-getstarted.html#read" class="text last">2.4.2 Reading actors and tables</a>
                        <a href="docs-getstarted.html#update" class="text last">2.4.3 Updating tables in actors</a>
                        <a href="docs-getstarted.html#delete" class="text last">2.4.4 Deleting tables in actors and actors itself</a>
                        <a href="docs-getstarted.html#cleanup" class="text last">2.5 Cleanup</a>
                    </div>
                </div>
            </div>
            <div class="l1 collapsed ">
                <a href="docs-howitworks.html" class="title">
                    <span class="bullet"></span>
                    <span class="text">3. HOW IT WORKS</span>
                </a>
                <div class="l2">
                    <a href="docs-howitworks.html#overview" class="title">
                        <span class="text">3.1 Overview</span>
                    </a>
                    <div class="l3 collapsed expanded">
                        <a href="docs-howitworks.html#nodesyny" class="title">
                            <span class="bullet"></span>
                            <span class="text">3.2 Node synchronisation</span>
                        </a>
                        <a href="docs-howitworks.html#h_321" class="text last">3.2.1 Global state</a>
                        <a href="docs-howitworks.html#h_322" class="text last">3.2.2 Actors</a>
                        <a href="docs-howitworks.html#h_323" class="text last">3.2.3 Multi-actor transactions</a>
                    </div>
                    <a href="docs-howitworks.html#dbengine" class="title">
                        <span class="text">3.3 SQL engine</span>
                    </a>
                </div>
            </div>
            <div class="l1 collapsed ">
                <a href="docs-querymodel.html" class="title">
                    <span class="bullet"></span>
                    <span class="text">4. QUERY MODEL</span>
                </a>
                <div class="l2">
                    <div class="l3 collapsed expanded">
                        <a href="docs-querymodel.html#query_actor" class="title">
                            <span class="bullet"></span>
                            <span class="text">4.1 ACTOR statement</span>
                        </a>
                        <a href="docs-querymodel.html#h_411" class="last">4.1.1 Single actor</a>
                        <a href="docs-querymodel.html#h_412" class="last">4.1.2 Multiple actors</a>
                        <a href="docs-querymodel.html#h_413" class="last">4.1.3 All actors of a type</a>
                        <a href="docs-querymodel.html#h_414" class="last">4.1.4 Loop over actors</a>
                    </div>
                </div>
                <div>
                <a href="docs-querymodel.html#flags" class="last">
                            
                            <span class="text">4.2 Flags</span>
                        </a>
                </div>
                <div class="l2">
                    <div class="l3 collapsed expanded">
                        <a href="docs-querymodel.html#query_variables" class="title">
                            <span class="bullet"></span>
                            <span class="text">4.3 Variables</span>
                        </a>
                        <a href="docs-querymodel.html#h_421" class="last">4.3.1 Appending columns to result</a>
                    </div>
                </div>
               
                        <a href="docs-querymodel.html#query_pragma" class="last">
                            
                            <span class="text">4.4 Pragma statement</span>
                        </a>
                   

            </div>


            <div class="l1">
                <div class="l3 collapsed ">
                        <a href="docs-kvstore.html" class="title">
                            <span class="bullet"></span>
                            <span class="text">5. KEY/VALUE STORE</span>
                        </a>
                        <a href="docs-kvstore.html#about_kv_store" class="last">5.1 About</a>
                        <a href="docs-kvstore.html#reliable_distributed_counters" class="last">5.2 Use case: reliable distributed counters</a>
                </div>
            </div>

            <div class="l1">
                <div class="l3 collapsed ">
                        <a href="docs-efficiency.html" class="title">
                            <span class="bullet"></span>
                            <span class="text">6. EFFICIENCY</span>
                        </a>
                        <a href="docs-efficiency.html#batching" class="last">6.1 Batching</a>
                        <a href="docs-efficiency.html#parameterized" class="last">6.2 Parameterized queries</a>
                        <a href="docs-efficiency.html#schema" class="last">6.3 Schema</a>
                </div>
            </div>
           
            <div class="l1 collapsed ">
                <a href="docs-examples.html" class="title">
                    <span class="bullet"></span>
                    <span>7. EXAMPLES</span>
                </a>
                <!-- <a href="docs-examples.html" class="last">
                    <span>Introduction</span>
                </a> -->
                <a href="docs-examples.html#example_filesync" class="last">
                    <span>7.1 File sync</span>
                </a>
            </div>

            <div class="l1 collapsed ">
            <!-- <div class="l1"> -->
                <a href="docs-configuration.html" class="title">
                    <span class="bullet"></span>
                    <span class="text">8. CONFIGURATION</span>
                </a>
                <a href="docs-configuration.html#conf_files" class="last">
                    <span>8.1 ActorDB configuration files</span>
                </a>
                <a href="docs-configuration.html#conf_nodes" class="last">
                    <span>8.2 init.sql</span>
                </a>
                <a href="docs-configuration.html#setup_guide" class="last">
                    <span>8.3 Setup guide</span>
                </a>
                <a href="docs-configuration.html#changing_schema" class="last">
                    <span>8.4 Changing schema</span>
                </a>
                <a href="docs-configuration.html#adding_cluster" class="last">
                    <span>8.5 Adding a cluster</span>
                </a>
                <a href="docs-configuration.html#building_actordb" class="last">
                    <span>8.6 Building ActorDB</span>
                </a>
                <a href="docs-configuration.html#running_dev_mode" class="last">
                    <span>8.7 Running ActorDB development mode</span>
                </a>
            </div>

            <!-- <div class="l1"> -->
            <div class="l1 collapsed ">
                <a href="docs-faq.html" class="title">
                    <span class="bullet"></span>
                    <span class="text">9. FAQ</span>
                </a>
                <a href="docs-faq.html#storage" class="last">
                    <span>9.1 Storage/Hardware</span>
                </a>
                <a href="docs-faq.html#clustering" class="last">
                    <span>9.2 Clustering</span>
                </a>
                <a href="docs-faq.html#querying" class="last">
                    <span>9.3 Querying</span>
                </a>
            </div>
        </div>
        <div class="content">

   				    <h1 class="pagetitle">2. Get Started</h1>

            <h2 id="download_run" class="pagesubtitle">2.1 Download ActorDB</h2>

            <p class="pagetext"></p>
            <p class="pagetext"> <a href="http://www.actordb.com/downloads.html">Download ActorDB</a></p>
                        
<p class="pagetext">
If you are on OSX then open terminal and move into the directory where you downloaded the package above (*.tar.gz package) and run:</p>

            <div class="structure">
                <pre class="latomono">
tar -zxvf actordb*.tar.gz</pre>
            </div>


<p class="pagetext">
If you are on Ubuntu/Debian open terminal and move into the directory where you downloaded the package above (*.deb package) and run:</p>

            <div class="structure">
                <pre class="latomono">
dpkg -i actordb*.deb</pre>
            </div>



<h2 id="run" class="pagesubtitle">2.2 Run ActorDB</h2>


<p class="pagetext">
Let's assume we just wan't to test ActorDB and we won't do any configurational changes. Our ActorDB server is one node only and runs on host 127.0.0.1 and port 33306.

Let's run ActorDB for the first time!</p>
<p class="pagetext">If on OSX move into directory:</p>


            <div class="structure">
                <pre class="latomono">cd actordb-*
            </div>



<p class="pagetext">and now run:</p>
            <div class="structure">
                <pre class="latomono"> ./bin/actordb start
 ./bin/actordb_console -f etc/init.example.sql</pre>
            </div>

<p class="pagetext">If on Linux:</p>

            <div class="structure">
                <pre class="latomono"> actordb start
 actordb_console -f etc/init.example.sql</pre>
            </div>

<p class="pagetext">Once actordb_console is finished running (should be quick), you have an initialized ActorDB setup. You should take a look at the init.example.sql file. It contains clustering settings, user accounts and schema.</p>

<h2 id="insertandquery" class="pagesubtitle">2.3 Simple insert and query data</h2>

<p class="pagetext">Queries to ActorDB can be executed using actordb_console. You can run actordb_console -h to print call options. If connecting to local node that is using default thrift interface port, IP can be omitted.</p>

            <div class="structure">
<pre class="latomono">actordb_console -u myuser -pw mypass 127.0.0.1 </pre>
            </div>

<p class="pagetext"> You should now be connected to ActorDB. You can connect without -pw (password), in that case you will be prompted for it. Next, run this command:
</p>

            <div class="structure">
<pre class="latomono">actordb> ACTOR type1(music) CREATE; 
actordb (1)> INSERT INTO tab (i,txt) VALUES (42,"this is our first run");
actordb (2)> c
Rowid: 1, Rows changed: 1</pre>
            </div>



<p class="pagetext">
Our actor instance is called 'music' and it has schema of type1 (set in init.sql). If this instance doesn't exist it will be created after first query because it has the CREATE flag. Run:</p>

            <div class="structure">
<pre class="latomono">actordb> ACTOR type1(music); SELECT * FROM tab;
actordb (1) c
*****************************
i  id txt                   |
-----------------------------
42 1  this is our first run |
-----------------------------
</pre>
            </div>



<h2 id="crud" class="pagesubtitle">2.4 CRUD in ActorDB</h2>
<h3 id="create" class="pagesubtitle">2.4.1 Create</h3> 
<p class="pagetext">Let's start with creating some instances of actors type1 and inserting data.</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(sport) CREATE;
actordb (1)> INSERT INTO tab (i,txt) VALUES (1,"Insert into sport.");
actordb (2)> ACTOR type1(reading) CREATE;
actordb (3)> INSERT INTO tab (i,txt) VALUES (2,"Insert into reading.");
actordb (4)> ACTOR type1(paint) CREATE;
actordb (5)> INSERT INTO tab (i,txt) VALUES (3,"Insert into paint.");
actordb (6)> c
Rowid: 0, Rows changed: 3
</pre>
            </div>

<p class="pagetext">The above was actually a 3 actor transaction. Here is another one:</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(sport,reading,paint);
actordb (1)> INSERT INTO tab (i,txt) VALUES (2,"Insert into three type1 actors.");
actordb (2)> c
Rowid: 0, Rows changed: 3
</pre>
<p class="pagetext">Lets read tab from all actors of type1:</p>
<pre class="latomono">
actordb> actor type1(*); {{RESULT}}select * from tab;
actordb (1)> c
***********************************************
actor   i  id txt                             |
-----------------------------------------------
sport   1  1  Insert into sport.              |
sport   2  2  Insert into three type1 actors. |
paint   3  1  Insert into paint.              |
paint   2  2  Insert into three type1 actors. |
reading 2  1  Insert into reading.            |
reading 2  2  Insert into three type1 actors. |
music   42 1  this is our first run           |
-----------------------------------------------
</pre>
            </div>




<h3 id="read" class="pagesubtitle">2.4.2 Reading actors and tables</h3> 
<p class="pagetext">If you followed this tutorial from step 1 to 4, you should have four actors of type1. Let's check this assumption with next query:</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(*);PRAGMA list;
actordb (1)> c
*********
actor   |
---------
sport   |
paint   |
reading |
music   |
---------
</pre>
            </div>




<h3 id="update" class="pagesubtitle">2.4.3 Updating tables in actors</h3> 
<p class="pagetext">We can update actor by actor or all actors at once. Let's start with only one actor:</p>

            <div class="structure">
<pre class="latomono">actordb> ACTOR type1(music); SELECT * FROM tab;
actordb (1)> c
*****************************
i  id txt                   |
-----------------------------
42 1  this is our first run |
----------------------------- 
</pre>
            </div>


            <div class="structure">
<pre class="latomono">actordb> ACTOR type1(music);
actordb (1)> UPDATE tab SET i=i+1 WHERE id=1;
actordb (2)> c
Rowid: 9, Rows changed: 1
actordb> ACTOR type1(music); SELECT * FROM tab;
actordb (1)> c
*****************************
i  id txt                   |
-----------------------------
43 1  this is our first run |
-----------------------------
</pre>
            </div>


<p class="pagetext">Let's update all four actors at once. Begin with selecting all actors of type type1. Note this is just an example, you really should not have queries like this in production. Transactions over many actors are not cheap:</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(*);
actordb (1)> UPDATE tab SET i=44 WHERE id = 1;
actordb (2)> c
Rowid: 0, Rows changed: 4
actordb> actor type1(*); {{RESULT}}select * from tab;
actordb (1)> c
***********************************************
actor   i  id txt                             |
-----------------------------------------------
sport   44 1  Insert into sport.              |
sport   2  2  Insert into three type1 actors. |
paint   44 1  Insert into paint.              |
paint   2  2  Insert into three type1 actors. |
reading 44 1  Insert into reading.            |
reading 2  2  Insert into three type1 actors. |
music   44 1  this is our first run           |
---------------------------------------------
</pre>
            </div>

<p class="pagetext">All tables tab in all actors now have column i of value 44.</p>



<h3 id="delete" class="pagesubtitle">2.4.4 Deleting tables in actors and actors itself</h3> 
<p class="pagetext">Deleting a row in actor music and table tab:</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(music);
actordb (1)> DELETE FROM tab WHERE id=1;
actordb (2)> c
actordb> ACTOR type1(music);
actordb (1)> select * from tab;
actordb (2)> c
No results.
</pre>
            </div>

<p class="pagetext">
Deleting a specific row in table tab in all actors of type type1.</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(*);
actordb (1)> DELETE FROM tab WHERE id=2;
actordb (2)> c
Rowid: 0, Rows changed: 4
actordb> ACTOR type1(*);
actordb (1)> {{RESULT}}select * from tab;
actordb (2)> c
************************************
actor   i  id txt                  |
------------------------------------
sport   44 1  Insert into sport.   |
paint   44 1  Insert into paint.   |
reading 44 1  Insert into reading. |
------------------------------------
</pre>
            </div>


<p class="pagetext">
We can also delete all our actors. Proceed with caution!</p>

            <div class="structure">
<pre class="latomono">
actordb> ACTOR type1(*);
actordb (1)> PRAGMA delete; 
actordb (2)> c
Rowid: 0, Rows changed: 4
actordb> ACTOR type1(*);
actordb (1)> pragma list;
actordb (2)> c
No results.
</pre>
            </div>


<h3 id="cleanup" class="pagesubtitle">2.5 Cleanup</h3> 
<p class="pagetext">You can reset ActorDB back to uninitialized state by first shutting it down using: actordb stop. Then deleting the lmdb file. On linux this is: /var/lib/actordb/. On osx/windows this is: ./data/</p>



<div class="pageactions">
    <span class="goleft"><a href="docs-about.html"><span class="pagebtn"><< Previous</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1. About)</span>
    <span class="goright">(3. How it works)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="docs-howitworks.html"><span class="pagebtn">Next >></span></a></span>   
</div>


            <p class="pagetext"></p>



   			<p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>
            <p class="pagetext">&nbsp;</p>

        </div>
    </div>
</div>

        <div class="footer">
            <div class="pagewrapper">
                <div class="linkholder">
                    <a href="https://www.github.com/biokoda/actordb" class="link">GitHub</a>
                    <a href="https://github.com/biokoda/actordb/issues" class="link">Issues</a>
                    <a href="https://github.com/biokoda/actordb/blob/master/README.md" class="link marginrightzero">Changelog</a>
                </div>
                <p class="text">Product by Biokoda. <br/ >
                    Licensed under Mozilla Public License 2.0.
                </p>
                <a class="global-footer_logo"></a>        
            </div>
        </div>

        <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>-->
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.1.min.js"><\/script>')</script>
        <script src="js/vendor/bootstrap.min.js"></script>
        <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        
        <script type="text/javascript">
            var isAtLeastIE11 = !!(navigator.userAgent.match(/Trident/) && !navigator.userAgent.match(/MSIE/));
            if (isAtLeastIE11) {
                $("html").addClass("ieedge");
            }
            if (navigator.platform.indexOf("Win") != -1 && navigator.userAgent.indexOf("MSIE") != -1 || navigator.platform.indexOf("Win") != -1 && isAtLeastIE11){
                $("html").addClass("iecomm");
            } 
            if (navigator.platform.indexOf("Win") !=-1 && navigator.userAgent.indexOf("Chrome") != -1) {
                $("html").addClass("winchrome");
            }
        </script>
        <!--<script src="js/actordb-website.js"></script>-->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-47379916-1', 'actordb.com');
          ga('send', 'pageview');

        </script>
    </body>
</html>
